# Yesterday Environment Configuration
# Copy this file to .env and fill in the values
# IMPORTANT: Never commit .env to git!

# Database credentials
# Generate a strong random password for the MySQL root user
DB_ROOT_PASSWORD=change_me_to_random_password

# 2FA Admin API key
# Generate a random string for the admin API (used to manage 2FA users)
# You can generate one with: openssl rand -hex 32
YESTERDAY_ADMIN_KEY=change_me_to_random_admin_key

# Basic HTTP Authentication (optional first layer before 2FA)
# Format: username:password
# Leave blank to disable basic auth (2FA only)
# Example: BACKUP_BASIC_AUTH=admin:secretpassword
# When enabled, users must enter these credentials BEFORE the 2FA page
# Share these credentials securely with authorized team members
BACKUP_BASIC_AUTH=

# Permanent IP Whitelist (bypass 2FA for these IPs)
# Comma-separated list of IPs or hostnames
# These IPs will bypass 2FA authentication entirely with Admin permissions
# Useful for trusted servers running scripts that need database access
# Example: PERMANENT_WHITELIST_IPS=192.168.1.100,bulk3.ilovefreegle.org
PERMANENT_WHITELIST_IPS=

# Redis password
# Generate a random password for Redis
# You can generate one with: openssl rand -hex 32
REDIS_PASSWORD=change_me_to_random_redis_password

# Production backup bucket (already configured, no need to change)
BACKUP_BUCKET=gs://freegle_backup_uk

# VM External IP (set this after VM is created)
# Get it with: gcloud compute instances describe yesterday-freegle --project=freegle-yesterday --zone=europe-west2-a --format="get(networkInterfaces[0].accessConfigs[0].natIP)"
EXTERNAL_IP=your_vm_external_ip_here
